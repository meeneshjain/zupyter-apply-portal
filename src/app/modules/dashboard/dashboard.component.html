<div id="preloader" *ngIf="show_loader">
   <div data-loader="dual-ring"></div>
</div>

<div id="content" class="py-4">
   <div class="container">
      <div class="row">
         <app-siderbar fxLayout="column" class="col-lg-3"></app-siderbar>

         <!-- Middle Panel
        ============================================= -->
         <div class="col-lg-9">
            <h4 class="font-weight-400 mb-3">Recent Activity</h4>
            <!-- <div class="item" *ngIf="show_loader">
   <div class="bg-light shadow-sm rounded py-4 mb-4">

      <ngx-skeleton-loader count="10"></ngx-skeleton-loader>
   </div>
</div> -->


            <!-- Recent Activity
          =============================== -->
            <div class="bg-light shadow-sm rounded mb-4">
               <!-- <h3 class="text-5 font-weight-400 d-flex align-items-center px-4 mb-3">Account Activity</h3> -->

               <!-- Title
            =============================== -->
               <div class="transaction-title py-2 px-4 zupyter-bg-primary text-white">
                  <div class="row">
                     <div class="col col-sm-3 text-left"><span class="">Date</span></div>
                     <div class="col col-sm-2 text-left"><span class="">Payment Method</span></div>
                     <div class="col col-sm-3">Description</div>
                     <div class=" col-sm-2 d-none d-sm-block text-center">Status</div>
                     <div class="col col-sm-2 text-right">Amount</div>
                  </div>
               </div>
               <!-- Title End -->

               <!-- Transaction List
            =============================== -->
               <ng-container *ngIf="transaction_details.length > 0">
                  <div class="transaction-list" *ngFor="let row_data of this.transaction_details; let i = index;">
                     <div class="transaction-item px-4 py-3"
                        (click)="show_transaction_details(activitydetailpopup , row_data)">
                        <div class="row align-items-center flex-row">
                           <div class="col col-sm-3 text-left">
                              {{row_data.CreateDate}}
                           </div>
                           <div class="col col-sm-2 text-left">
                              <span *ngIf="row_data.PayType =='BA'">
                                 Bank Account
                              </span>
                              <span *ngIf="row_data.PayType =='CC'">
                                 Credit Card
                              </span>
                           </div>
                           <div class="col col-sm-3"> <span class="d-block text-4">HDFC Bank</span> <span
                                 class="text-muted">Withdraw to Bank account</span> </div>
                           <div class=" col-sm-2 d-none d-sm-block text-center text-3">
                              <span *ngIf="this.form_data.pp_TransID != ''"
                                 class="bg-success text-white rounded-pill d-inline-block px-2 mb-0"><i
                                    class="fas fa-check-circle"></i> Active</span>

                              <span *ngIf="this.form_data.pp_TransID == ''"
                                 class="bg-danger text-white rounded-pill d-inline-block px-2 mb-0"><i
                                    class="fas fa-times"></i>
                                 Inactive</span>
                           </div>
                           <div class="col col-sm-2 text-right text-4"> <span
                                 class="text-nowrap">${{row_data.PaidAmt}}</span> </div>
                        </div>
                     </div>
                  </div>
               </ng-container>
               <ng-container *ngIf="transaction_details.length == 0">
                  <div class="transaction-list">
                     <div class="transaction-item px-2 py-2">
                        <div class="row align-items-center flex-row">
                           <div class="col text-center text-secondary">
                              No Rows Found
                           </div>
                        </div>
                     </div>
                  </div>
               </ng-container>
               <!-- Transaction List End -->

               <!-- Transaction Item Details Modal
            =========================================== -->
               <ng-template #activitydetailpopup>
                  <div class="modal-body">
                     <div class="row no-gutters">
                        <div class="col-sm-3 d-flex justify-content-center zupyter-bg-primary rounded-left py-4">
                           <div class="my-auto text-center">
                              <div class="text-17 text-white my-3"><i class="fas fa-building"></i></div>
                              <h3 class="text-4 text-white font-weight-400 my-3">
                                 {{this.selected_transaction['transid']}}</h3>
                              <div class="text-8 font-weight-500 text-white my-4">
                                 ${{this.selected_transaction['PaidAmt']}}</div>
                              <p class="text-white">{{this.selected_transaction['CreateDate']}}</p>
                           </div>
                        </div>
                        <div class="col-sm-9">
                           <h5 class="text-5 font-weight-400 ml-3 mr-3 ml-2 mb-2">Transaction Details
                              <button type="button" class="close font-weight-400" (click)="close_transaction()"> <span
                                    aria-hidden="true">&times;</span>
                              </button>
                           </h5>
                           <hr class="mt-1 mb-2">
                           <div class="ml-3 mr-1">
                                 <!-- <h5 class="text-5 font-weight-400">Items Details </h5> -->
                                 <!-- <hr class="mt-1 mb-2"> -->
                                 <div class="transaction-title py-2 px-4 zupyter-bg-primary text-white">
                                    <div class="row">
                                       <!-- <div class="col col-sm-3 text-left">Trans Num.</div> -->
                                       <!-- <div class="col col-sm-3 text-left">Doc. Entry</div> -->
                                       <div class="col col-sm-6 text-left">Transaction Number</div>
                                       <div class="col col-sm-6 text-right">Amount</div>
                                    </div>
                                 </div>
                                 <div class="transaction-list" *ngFor="let items of this.selected_transaction['Lines']; let i = index;">
                                    <div class="transaction-item px-4 py-3">
                                       <div class="row align-items-center flex-row">
                                          <!-- <div class="col col-sm-3 text-left"> {{items.pp_TransNum}} </div> -->
                                          <!-- <div class="col col-sm-3 text-left"> {{items.DocEntry}} </div> -->
                                          <div class="col col-sm-6 text-left"> {{items.DocNum}} </div>
                                          <div class="col col-sm-6 text-right"> ${{items.SumApplied}} </div>
                                       </div>
                                    </div>
                                 </div>
                              <ul class="list-unstyled py-2 px-4">
                                 <li class="mb-2">Payment Amount <span
                                       class="float-right text-3">${{this.selected_transaction['PaidAmt']}}</span>
                                 </li>
                                 <li class="mb-2">Fee <span class="float-right text-3">-$0</span></li>
                              </ul>
                              <hr class="mb-2">
                              <p class="d-flex align-items-center font-weight-500 mb-4 py-2 px-4">Total Amount <span
                                    class="text-3 ml-auto">${{this.selected_transaction['PaidAmt']}}</span></p>
                              <!-- <ul class="list-unstyled">
                                 <li class="font-weight-500">Paid By:</li>
                                 <li class="text-muted">{{this.selected_transaction['CardName']}}</li>
                              </ul> -->
                           
                           

                           </div>
                        </div>
                     </div>

                  </div>
               </ng-template>

               <!-- Transaction Item Details Modal End -->

               <!-- View all Link
            =============================== -->
               <div class="text-center mt-4 pb-3"><a href="javascript:;" [routerLink]="['/transaction']"
                     class="btn-link text-3">View all<i class="fas fa-chevron-right text-2 ml-2"></i></a></div>
               <!-- View all Link End -->

            </div>
            <!-- Recent Activity End -->
         </div>
         <!-- Middle Panel End -->
      </div>
   </div>
</div>